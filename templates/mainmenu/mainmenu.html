{% extends 'base.html' %}

{% block title %}メインメニュー{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <div class="container">
        <p>ログイン中：{{ account_name }} (ID: {{ account_id }})</p>
    </div>

    <div class="main_contents">
        <div class="button-container">
            <button onclick="location.href='{{ url_for('photo_menu') }}';" class="camera-btn"><img src="../static/img/camera.png" class="camera-icon">ごはん撮影</button>
            <button class="sug-btn">🍖ごはん提案</button>
            <button class="hiroba-btn"><img src="../static/img/hiroba-icon.png" class="hiroba-icon">ごはん広場</button>
            <button onclick="location.href='{{ url_for('acct_set') }}';" class="ac_op-btn">⚙アカウント設定</button>
        </div>     
    </div> 
    <aside>
        {% if account_id == 1 %}
        <button onclick="location.href='{{ url_for('account_look') }}';" class="ac_look">アカウント閲覧</button>
        <button onclick="location.href='{{ url_for('recipe_images') }}';" class="recipe_teach">ごはん調教</button>
        {% endif %}  
    </aside>        

    <div class="memo-container">
        <textarea id="memo" placeholder="ここにメモを書いてください..." disabled>
        12/31   「ごはんフレンズ！」サービス開始のお知らせ
        12/31    リリース記念PickUPガチャ開催！
        12/31   【重要】緊急メンテナンス実施について
         1/3     メンテナンス終了のお知らせ
         1/5     ☆6おにぎりマンのEXスキル『断食殺し』調整について
         1/25    サービス終了のお知らせ
        </textarea>
        <div id="admin-controls">
            {% if account_id == 1 %}
                <button id="edit-btn">編集</button>
                <button id="confirm-btn">確定</button>
            {% endif %}
        </div>

        <br><br>

        <script>
            // ページ読み込み時にメモを復元する
            window.addEventListener('load', function() {
                const savedMemo = localStorage.getItem('memo');
                if (savedMemo) {
                    document.getElementById('memo').value = savedMemo; // テキストエリアに内容を表示
                }
            });

            // 編集ボタンのイベントリスナー
            document.getElementById('edit-btn').addEventListener('click', function() {
                const memo = document.getElementById('memo');
                memo.disabled = false; // テキストエリアを編集可能にする
            });

            // 確定ボタンのイベントリスナー
            document.getElementById('confirm-btn').addEventListener('click', function() {
                const memo = document.getElementById('memo');
                localStorage.setItem('memo', memo.value); // メモを保存
                memo.disabled = true; // テキストエリアを再び非編集にする
            });
        </script>
    </div>
{% endblock %}
