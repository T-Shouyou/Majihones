{% extends 'base.html' %}

{% block title %}ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <div class="container">
        <p>ãƒ­ã‚°ã‚¤ãƒ³ä¸­ï¼š{{ account_name }} (ID: {{ account_id }})</p>
    </div>

    <div class="main_contents">
        <div class="button-container">
            <button onclick="location.href='{{ url_for('photo_menu') }}';" class="camera-btn"><img src="../static/img/camera.png" class="camera-icon">ã”ã¯ã‚“æ’®å½±</button>
            <button class="sug-btn">ğŸ–ã”ã¯ã‚“ææ¡ˆ</button>
            <button class="hiroba-btn"><img src="../static/img/hiroba-icon.png" class="hiroba-icon">ã”ã¯ã‚“åºƒå ´</button>
            <button onclick="location.href='{{ url_for('acct_set') }}';" class="ac_op-btn">âš™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</button>
        </div>     
    </div> 
    <aside>
        {% if account_id == 1 %}
        <button onclick="location.href='{{ url_for('account_look') }}';" class="ac_look">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé–²è¦§</button>
        <button onclick="location.href='{{ url_for('recipe_images') }}';" class="recipe_teach">ã”ã¯ã‚“èª¿æ•™</button>
        {% endif %}  
    </aside>        

    <div class="memo-container">
        <textarea id="memo" placeholder="ã“ã“ã«ãƒ¡ãƒ¢ã‚’æ›¸ã„ã¦ãã ã•ã„..." disabled>
        12/31   ã€Œã”ã¯ã‚“ãƒ•ãƒ¬ãƒ³ã‚ºï¼ã€ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹ã®ãŠçŸ¥ã‚‰ã›
        12/31    ãƒªãƒªãƒ¼ã‚¹è¨˜å¿µPickUPã‚¬ãƒãƒ£é–‹å‚¬ï¼
        12/31   ã€é‡è¦ã€‘ç·Šæ€¥ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å®Ÿæ–½ã«ã¤ã„ã¦
         1/3     ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº†ã®ãŠçŸ¥ã‚‰ã›
         1/5     â˜†6ãŠã«ãã‚Šãƒãƒ³ã®EXã‚¹ã‚­ãƒ«ã€æ–­é£Ÿæ®ºã—ã€èª¿æ•´ã«ã¤ã„ã¦
         1/25    ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã®ãŠçŸ¥ã‚‰ã›
        </textarea>
        <div id="admin-controls">
            {% if account_id == 1 %}
                <button id="edit-btn">ç·¨é›†</button>
                <button id="confirm-btn">ç¢ºå®š</button>
            {% endif %}
        </div>

        <br><br>

        <script>
            // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ¡ãƒ¢ã‚’å¾©å…ƒã™ã‚‹
            window.addEventListener('load', function() {
                const savedMemo = localStorage.getItem('memo');
                if (savedMemo) {
                    document.getElementById('memo').value = savedMemo; // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«å†…å®¹ã‚’è¡¨ç¤º
                }
            });

            // ç·¨é›†ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            document.getElementById('edit-btn').addEventListener('click', function() {
                const memo = document.getElementById('memo');
                memo.disabled = false; // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã‚’ç·¨é›†å¯èƒ½ã«ã™ã‚‹
            });

            // ç¢ºå®šãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            document.getElementById('confirm-btn').addEventListener('click', function() {
                const memo = document.getElementById('memo');
                localStorage.setItem('memo', memo.value); // ãƒ¡ãƒ¢ã‚’ä¿å­˜
                memo.disabled = true; // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã‚’å†ã³éç·¨é›†ã«ã™ã‚‹
            });
        </script>
    </div>
{% endblock %}
