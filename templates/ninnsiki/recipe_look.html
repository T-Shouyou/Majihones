{% extends 'base.html' %}

{% block title %}レシピ一覧{% endblock %}

{% block content %}
    <br>
    <h1 class="txt-center">現在のレシピ一覧</h1>
    <p class="txt-center">Unicodeのコードポイントに基づいてソートしてるよん</p>

    <div class="center-container">
        <input type="text" id="searchBox" placeholder="レシピを検索...">
        <ul id="recipeList">
            {% for label in recipe_labels %}
                <li>{{ label }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="recipe-look-link">
        <a href="/ninnsiki/recipe_delete" class="txt-center">レシピを削除する</a>
        <div class="back-button-container">
            <button id="back-button" onclick="location.href='{{ url_for('recipe_images') }}';" class="back-button">戻る</button>
        </div>
    </div>

    <script>
        // JavaScriptでリアルタイム検索機能を実装
        document.getElementById("searchBox").addEventListener("input", function() {
            const filter = this.value.toLowerCase();
            const items = document.querySelectorAll("#recipeList li");
            
            items.forEach(item => {
                if (item.textContent.toLowerCase().includes(filter)) {
                    item.classList.remove("hidden");
                } else {
                    item.classList.add("hidden");
                }
            });
        });
    </script>
{% endblock %}
